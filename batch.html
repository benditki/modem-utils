<!DOCTYPE html>
<html>
    <head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="anim.css">
    </head>

    <body>
    </body>

    <script id='page-tpl' type='text/ractive'>
    <header>
        <h1><span class="A">.</span><span class="B">M</span><span class="C">U</span><span class="D">.</span><span class="E">BATCH</span></h1>
    </header>
    
    <main>
    <table id="batch-table">
    <tr><th>Port</th>     {{#each gsm: port_name}}<th>{{port_name}}</th>{{/each}}</tr>
    <tr><th>Baudrate</th> {{#each gsm: port_name}}<td>{{#if state==0}} ... {{elseif state>0}} {{active_baudrate}} {{/if}}</td>{{/each}}</tr>
    <tr><th>Model</th>    {{#each gsm: port_name}}<td>{{#if state==2}} ... {{elseif state>2}} {{model}}           {{/if}}</td>{{/each}}</tr>
    <tr><th>SN</th>       {{#each gsm: port_name}}<td>{{#if state==2}}     {{elseif state>2}} {{sn}}              {{/if}}</td>{{/each}}</tr>
    <tr><th>APN</th>      {{#each gsm: port_name}}<td>{{#if state==3}} ... {{elseif state>3}} {{apn}}             {{/if}}</td>{{/each}}</tr>
    <tr><th>Static IP</th>{{#each gsm: port_name}}<td>{{#if state==3}}     {{elseif state>3}} {{static_ip}}       {{/if}}</td>{{/each}}</tr>
    <tr><th>Sim</th>      {{#each gsm: port_name}}<td>{{#if state==3}}     {{elseif state>3}} {{#if sim_id}} {{sim_id}} {{else}} <output> <i class="warn">&#xe67b;</i> NO SIM</output> {{/if}} {{/if}}</td>{{/each}}</tr>
    <tr><th>Operator</th> {{#each gsm: port_name}}<td>{{#if state==5}} ... {{elseif state>5}} {{operator}}        {{/if}}</td>{{/each}}</tr>
    <tr><th>Network</th>  {{#each gsm: port_name}}<td>{{#if state==5}}     {{elseif state>5}} {{network}}         {{/if}}</td>{{/each}}</tr>
    <tr><th>IP</th>       {{#each gsm: port_name}}<td>{{#if state==6}} ... {{elseif state>6}} {{current_ip}}      {{/if}}</td>{{/each}}</tr>
    <tr><th>Test</th>   {{#each gsm: port_name}}<td>{{#if state==7}} <output> <i class="good">&#xe66c;</i> Done</output> {{/if}}</td>{{/each}}</tr>
    </table>
    </main>
    
    <footer>
        <div id="log"></div>
    </footer>

    
    <div id="grid" class="{{grid_visible? 'shown' : ''}}"></div>
    <button id="grid-toggle" on-click="@.toggle('grid_visible')" class="{{grid_visible? 'off' : ''}}">##</button>

    </script>

    <script>
    require('./batch.js')
    </script>
</html>
